!function(a){"use strict";var b={navSelector:"li#navbar-reparation a",allNavSelector:".navbar-nav li",configUrl:"/reparation/calculator/config",currencyFormat:"0,0",calcConfig:{basePrice:750,houseTypeNew:1,houseTypeOld:1.05,spaceTypeApartment:1,spaceTypeOffice:.75,spaceTypeCottage:1,reparationTypeStandard:1,reparationTypeBusinessClass:1.3,consumablesPrice:500,decorationMaterialsPrice:500},houseTypeSelector:"select#houseType",spaceAreaSelector:"input#spaceArea",spaceTypeSelector:"select#spaceType",reparationTypeSelector:"select#reparationType",estimatedCostsSelector:"em#estimatedCosts",consumablesSelector:"em#consumables",totalPriceSelector:"em#totalPrice",decorationMaterialsSelector:"em#decorationMaterials",grandTotalSelector:"em#grandTotal",init:function(){b.selectNavigationCategory(),b.recalculate(),a(b.houseTypeSelector).change(b.recalculate),a(b.spaceTypeSelector).change(b.recalculate),a(b.reparationTypeSelector).change(b.recalculate),a(b.spaceAreaSelector).on("blur",b.recalculate)},selectNavigationCategory:function(){a(b.allNavSelector).removeClass("active"),a(b.navSelector).addClass("active")},recalculate:function(){var c=a(b.houseTypeSelector).val(),d=a(b.spaceTypeSelector).val(),e=a(b.reparationTypeSelector).val(),f=a(b.spaceAreaSelector).val(),g=b.calcConfig.consumablesPrice*f,h=b.calcConfig.decorationMaterialsPrice*f,i=(b.calcConfig.basePrice+b.calcConfig.consumablesPrice)*f;switch(i*="1"===c?b.calcConfig.houseTypeOld:b.calcConfig.houseTypeNew,d){case"1":i*=b.calcConfig.spaceTypeApartment;break;case"2":i*=b.calcConfig.spaceTypeOffice;break;default:i*=b.calcConfig.spaceTypeCottage}i*="1"===e?b.calcConfig.reparationTypeStandard:b.calcConfig.reparationTypeBusinessClass,a(b.consumablesSelector).text(numeral(g).format("0,0")),a(b.decorationMaterialsSelector).text(numeral(h).format("0,0")),a(b.estimatedCostsSelector).text(numeral(i).format("0,0")),a(b.totalPriceSelector).text(numeral(i+g).format("0,0")),a(b.grandTotalSelector).text(numeral(i+g+h).format("0,0"))}};a.fn.ready(function(){b.init()})}(jQuery);